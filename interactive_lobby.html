<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 3D Lobby</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        
        #container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        #controls {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            background: rgba(0,0,0,0.7);
            padding: 15px;
            border-radius: 8px;
            z-index: 100;
            font-size: 14px;
        }
        
        #info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            color: white;
            background: rgba(0,0,0,0.7);
            padding: 10px;
            border-radius: 8px;
            z-index: 100;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div id="container"></div>
    
    <div id="controls">
        <strong>Controls:</strong><br>
        ← → Arrow Keys: Change perspective view<br>
        Current Angle: <span id="angleDisplay">0°</span>
    </div>
    
    <div id="info">
        Interactive 3D Lobby - Use arrow keys to explore different perspectives
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer;
        let cameraAngle = 0;
        const cameraRadius = 8;
        const cameraHeight = 2;
        
        function init() {
            // Create scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x222222);
            
            // Create camera
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            
            // Create renderer
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.getElementById('container').appendChild(renderer.domElement);
            
            createLobby();
            setupLighting();
            updateCameraPosition();
            animate();
        }
        
        function createLobby() {
            // Floor
            const floorGeometry = new THREE.PlaneGeometry(20, 12);
            const floorMaterial = new THREE.MeshLambertMaterial({ color: 0x333333 });
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            floor.receiveShadow = true;
            scene.add(floor);
            
            // Red carpet
            const carpetGeometry = new THREE.PlaneGeometry(3, 10);
            const carpetMaterial = new THREE.MeshLambertMaterial({ color: 0xcc0000 });
            const carpet = new THREE.Mesh(carpetGeometry, carpetMaterial);
            carpet.rotation.x = -Math.PI / 2;
            carpet.position.y = 0.01;
            carpet.receiveShadow = true;
            scene.add(carpet);
            
            // Walls
            createWalls();
            
            // Ceiling
            const ceilingGeometry = new THREE.PlaneGeometry(20, 12);
            const ceilingMaterial = new THREE.MeshLambertMaterial({ color: 0x444444 });
            const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);
            ceiling.rotation.x = Math.PI / 2;
            ceiling.position.y = 4;
            scene.add(ceiling);
            
            // Ceiling lights
            createCeilingLights();
            
            // Side panels/doors
            createSidePanels();
        }
        
        function createWalls() {
            // Back wall
            const backWallGeometry = new THREE.PlaneGeometry(20, 4);
            const backWallMaterial = new THREE.MeshLambertMaterial({ color: 0x8B4513 });
            const backWall = new THREE.Mesh(backWallGeometry, backWallMaterial);
            backWall.position.z = -6;
            backWall.position.y = 2;
            scene.add(backWall);
            
            // Side walls
            const sideWallGeometry = new THREE.PlaneGeometry(12, 4);
            const sideWallMaterial = new THREE.MeshLambertMaterial({ color: 0x666666 });
            
            const leftWall = new THREE.Mesh(sideWallGeometry, sideWallMaterial);
            leftWall.rotation.y = Math.PI / 2;
            leftWall.position.x = -10;
            leftWall.position.y = 2;
            scene.add(leftWall);
            
            const rightWall = new THREE.Mesh(sideWallGeometry, sideWallMaterial);
            rightWall.rotation.y = -Math.PI / 2;
            rightWall.position.x = 10;
            rightWall.position.y = 2;
            scene.add(rightWall);
        }
        
        function createCeilingLights() {
            for (let i = 0; i < 8; i++) {
                const lightGeometry = new THREE.PlaneGeometry(2, 0.3);
                const lightMaterial = new THREE.MeshLambertMaterial({ 
                    color: 0xffffff,
                    emissive: 0xffffff,
                    emissiveIntensity: 0.3
                });
                const light = new THREE.Mesh(lightGeometry, lightMaterial);
                light.rotation.x = Math.PI / 2;
                light.position.y = 3.9;
                light.position.z = -4 + i * 1;
                scene.add(light);
            }
        }
        
        function createSidePanels() {
            // Left side panels
            for (let i = 0; i < 3; i++) {
                const panelGeometry = new THREE.PlaneGeometry(3, 4);
                const panelMaterial = new THREE.MeshLambertMaterial({ color: 0x888888 });
                const panel = new THREE.Mesh(panelGeometry, panelMaterial);
                panel.rotation.y = Math.PI / 2;
                panel.position.x = -9.9;
                panel.position.y = 2;
                panel.position.z = -2 + i * 2;
                scene.add(panel);
                
                // Door frames
                const doorFrameGeometry = new THREE.PlaneGeometry(2, 3);
                const doorFrameMaterial = new THREE.MeshLambertMaterial({ color: 0x8B4513 });
                const doorFrame = new THREE.Mesh(doorFrameGeometry, doorFrameMaterial);
                doorFrame.rotation.y = Math.PI / 2;
                doorFrame.position.x = -9.8;
                doorFrame.position.y = 1.5;
                doorFrame.position.z = -2 + i * 2;
                scene.add(doorFrame);
            }
            
            // Right side panels (mirror)
            for (let i = 0; i < 3; i++) {
                const panelGeometry = new THREE.PlaneGeometry(3, 4);
                const panelMaterial = new THREE.MeshLambertMaterial({ color: 0x888888 });
                const panel = new THREE.Mesh(panelGeometry, panelMaterial);
                panel.rotation.y = -Math.PI / 2;
                panel.position.x = 9.9;
                panel.position.y = 2;
                panel.position.z = -2 + i * 2;
                scene.add(panel);
                
                // Door frames
                const doorFrameGeometry = new THREE.PlaneGeometry(2, 3);
                const doorFrameMaterial = new THREE.MeshLambertMaterial({ color: 0x8B4513 });
                const doorFrame = new THREE.Mesh(doorFrameGeometry, doorFrameMaterial);
                doorFrame.rotation.y = -Math.PI / 2;
                doorFrame.position.x = 9.8;
                doorFrame.position.y = 1.5;
                doorFrame.position.z = -2 + i * 2;
                scene.add(doorFrame);
            }
        }
        
        function setupLighting() {
            // Ambient light
            const ambientLight = new THREE.AmbientLight(0x404040, 0.4);
            scene.add(ambientLight);
            
            // Main directional light
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(0, 10, 5);
            directionalLight.castShadow = true;
            directionalLight.shadow.mapSize.width = 2048;
            directionalLight.shadow.mapSize.height = 2048;
            scene.add(directionalLight);
            
            // Ceiling strip lights
            for (let i = 0; i < 8; i++) {
                const stripLight = new THREE.PointLight(0xffffff, 0.3, 10);
                stripLight.position.set(0, 3.5, -4 + i * 1);
                scene.add(stripLight);
            }
        }
        
        function updateCameraPosition() {
            const x = Math.sin(cameraAngle) * cameraRadius;
            const z = Math.cos(cameraAngle) * cameraRadius;
            
            camera.position.set(x, cameraHeight, z);
            camera.lookAt(0, 1, -2); // Look towards the back of the lobby
            
            // Update angle display
            const degrees = Math.round((cameraAngle * 180 / Math.PI) % 360);
            document.getElementById('angleDisplay').textContent = degrees + '°';
        }
        
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }
        
        // Handle keyboard input
        document.addEventListener('keydown', (event) => {
            switch(event.code) {
                case 'ArrowLeft':
                    cameraAngle -= 0.1;
                    updateCameraPosition();
                    break;
                case 'ArrowRight':
                    cameraAngle += 0.1;
                    updateCameraPosition();
                    break;
            }
        });
        
        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        
        // Initialize the scene
        init();
    </script>
</body>
</html>